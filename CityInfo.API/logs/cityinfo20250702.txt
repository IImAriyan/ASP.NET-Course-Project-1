2025-07-02 00:08:59.341 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-02 00:08:59.519 +03:30 [DBG] Hosting starting
2025-07-02 00:08:59.710 +03:30 [INF] Now listening on: http://localhost:5062
2025-07-02 00:08:59.711 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2025-07-02 00:08:59.715 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-02 00:08:59.716 +03:30 [INF] Hosting environment: Development
2025-07-02 00:08:59.719 +03:30 [INF] Content root path: D:\DotNet-Dore\CityInfo.API\CityInfo.API
2025-07-02 00:08:59.720 +03:30 [DBG] Hosting started
2025-07-02 00:09:01.538 +03:30 [DBG] Connection id "0HNDORT7VG296" accepted.
2025-07-02 00:09:01.543 +03:30 [DBG] Connection id "0HNDORT7VG296" started.
2025-07-02 00:09:01.545 +03:30 [DBG] Connection id "0HNDORT7VG297" accepted.
2025-07-02 00:09:01.548 +03:30 [DBG] Connection id "0HNDORT7VG297" started.
2025-07-02 00:09:01.611 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/index.html - null null
2025-07-02 00:09:01.623 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-02 00:09:02.008 +03:30 [DBG] Connection id "0HNDORT7VG296" completed keep alive response.
2025-07-02 00:09:02.021 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/index.html - 200 null text/html;charset=utf-8 424.8807ms
2025-07-02 00:09:09.198 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-07-02 00:09:09.704 +03:30 [DBG] Connection id "0HNDORT7VG296" completed keep alive response.
2025-07-02 00:09:09.707 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 509.2565ms
2025-07-02 00:09:47.234 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/Cities - null null
2025-07-02 00:09:47.266 +03:30 [DBG] The request path  does not match the path filter
2025-07-02 00:09:47.276 +03:30 [WRN] Failed to determine the https port for redirect.
2025-07-02 00:09:47.357 +03:30 [DBG] 1 candidate(s) found for the request path '/api/Cities'
2025-07-02 00:09:47.380 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/Cities'
2025-07-02 00:09:47.397 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-07-02 00:09:47.410 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-07-02 00:09:47.532 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-07-02 00:09:47.565 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-02 00:09:47.608 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-02 00:09:47.617 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-02 00:09:47.621 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-02 00:09:47.623 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-02 00:09:47.631 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-07-02 00:09:49.067 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-02 00:09:49.117 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-07-02 00:09:49.141 +03:30 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2025-07-02 00:09:50.897 +03:30 [INF] Entity Framework Core 6.0.10 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.10' with options: None
2025-07-02 00:09:51.026 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-07-02 00:09:51.425 +03:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoDbContext, 
    False, 
    False, 
    True
)'
2025-07-02 00:09:51.497 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-02 00:09:52.230 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (730ms).
2025-07-02 00:09:52.241 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-02 00:09:52.287 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 00:09:52.314 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2025-07-02 00:09:52.357 +03:30 [ERR] Failed executing DbCommand (856ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2025-07-02 00:09:52.375 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 00:09:52.388 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-02 00:09:52.429 +03:30 [ERR] An exception occurred while iterating over the results of a query for context type 'CityInfo.API.DbContexts.CityInfoDbContext'.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-07-02 00:09:52.464 +03:30 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 4826.514ms
2025-07-02 00:09:52.474 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-07-02 00:09:52.477 +03:30 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'no such table: Cities'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at CityInfo.API.Repositories.CityInfoRepository.GetCitiesAsync() in D:\DotNet-Dore\CityInfo.API\CityInfo.API\Repositories\CityInfoRepository.cs:line 19
   at CityInfo.API.Controllers.CitiesController.GetCities() in D:\DotNet-Dore\CityInfo.API\CityInfo.API\Controllers\CitiesController.cs:line 24
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-02 00:09:52.545 +03:30 [DBG] Connection id "0HNDORT7VG296" completed keep alive response.
2025-07-02 00:09:52.553 +03:30 [DBG] 'CityInfoDbContext' disposed.
2025-07-02 00:09:52.562 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/Cities - 500 null text/plain; charset=utf-8 5328.6933ms
2025-07-02 00:10:05.680 +03:30 [DBG] Connection id "0HNDORT7VG297" received FIN.
2025-07-02 00:10:05.690 +03:30 [DBG] Connection id "0HNDORT7VG297" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-02 00:10:05.694 +03:30 [DBG] Connection id "0HNDORT7VG297" disconnecting.
2025-07-02 00:10:05.699 +03:30 [DBG] Connection id "0HNDORT7VG297" stopped.
2025-07-02 00:12:02.745 +03:30 [DBG] Connection id "0HNDORT7VG296" disconnecting.
2025-07-02 00:12:02.748 +03:30 [DBG] Connection id "0HNDORT7VG296" stopped.
2025-07-02 00:12:02.751 +03:30 [DBG] Connection id "0HNDORT7VG296" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-02 00:12:51.825 +03:30 [INF] Application is shutting down...
2025-07-02 00:12:51.827 +03:30 [DBG] Hosting stopping
2025-07-02 00:12:51.850 +03:30 [DBG] Hosting stopped
2025-07-02 17:39:00.604 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-02 17:39:00.868 +03:30 [INF] Entity Framework Core 6.0.10 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.10' with options: None
2025-07-02 17:39:00.920 +03:30 [DBG] DetectChanges starting for 'CityInfoDbContext'.
2025-07-02 17:39:00.923 +03:30 [DBG] DetectChanges completed for 'CityInfoDbContext'.
2025-07-02 17:39:00.963 +03:30 [DBG] 'CityInfoDbContext' disposed.
2025-07-02 17:42:02.870 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-02 17:42:03.236 +03:30 [INF] Entity Framework Core 6.0.10 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.10' with options: None
2025-07-02 17:42:03.832 +03:30 [DBG] Migrating using database 'main' on server 'CityInfo.db'.
2025-07-02 17:42:03.838 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:42:03.849 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:42:03.858 +03:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-07-02 17:42:03.864 +03:30 [DBG] Created DbCommand for 'ExecuteScalar' (6ms).
2025-07-02 17:42:03.867 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:42:03.869 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:42:03.874 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-07-02 17:42:03.888 +03:30 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-07-02 17:42:03.891 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:42:03.895 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:42:03.898 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:42:03.900 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:42:03.932 +03:30 [DBG] DetectChanges starting for 'CityInfoDbContext'.
2025-07-02 17:42:03.936 +03:30 [DBG] DetectChanges completed for 'CityInfoDbContext'.
2025-07-02 17:42:03.946 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-02 17:42:03.947 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-02 17:42:03.948 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:42:03.949 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:42:03.950 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-07-02 17:42:03.959 +03:30 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2025-07-02 17:42:03.965 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:42:03.967 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:42:03.970 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:42:03.973 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:42:03.974 +03:30 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-07-02 17:42:03.975 +03:30 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-07-02 17:42:03.976 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:42:03.977 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:42:03.980 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-07-02 17:42:03.982 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2025-07-02 17:42:03.984 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:42:03.985 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:42:03.987 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-02 17:42:03.989 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-02 17:42:03.991 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:42:03.991 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:42:03.993 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-02 17:42:03.994 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-07-02 17:42:03.997 +03:30 [DBG] A data reader was disposed.
2025-07-02 17:42:03.997 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:42:03.998 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:42:04.007 +03:30 [INF] Applying migration '20250702140900_createDBcityInfo'.
2025-07-02 17:42:04.021 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:42:04.024 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:42:04.028 +03:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-02 17:42:04.033 +03:30 [DBG] Began transaction with isolation level 'Serializable'.
2025-07-02 17:42:04.035 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-02 17:42:04.037 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-07-02 17:42:04.039 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Cities" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Cities" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Description" TEXT NULL
);
2025-07-02 17:42:04.042 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Cities" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Cities" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Description" TEXT NULL
);
2025-07-02 17:42:04.043 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-02 17:42:04.045 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-02 17:42:04.046 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PointOfInterest" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointOfInterest" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "CityId" INTEGER NOT NULL,
    CONSTRAINT "FK_PointOfInterest_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE
);
2025-07-02 17:42:04.049 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "PointOfInterest" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_PointOfInterest" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "CityId" INTEGER NOT NULL,
    CONSTRAINT "FK_PointOfInterest_Cities_CityId" FOREIGN KEY ("CityId") REFERENCES "Cities" ("Id") ON DELETE CASCADE
);
2025-07-02 17:42:04.052 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-02 17:42:04.053 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-07-02 17:42:04.054 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfInterest_CityId" ON "PointOfInterest" ("CityId");
2025-07-02 17:42:04.056 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_PointOfInterest_CityId" ON "PointOfInterest" ("CityId");
2025-07-02 17:42:04.059 +03:30 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-07-02 17:42:04.061 +03:30 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-07-02 17:42:04.062 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250702140900_createDBcityInfo', '6.0.10');
2025-07-02 17:42:04.064 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250702140900_createDBcityInfo', '6.0.10');
2025-07-02 17:42:04.067 +03:30 [DBG] Committing transaction.
2025-07-02 17:42:04.071 +03:30 [DBG] Committed transaction.
2025-07-02 17:42:04.072 +03:30 [DBG] Disposing transaction.
2025-07-02 17:42:04.074 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:42:04.077 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:42:04.079 +03:30 [DBG] 'CityInfoDbContext' disposed.
2025-07-02 17:49:20.948 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-02 17:49:21.037 +03:30 [DBG] Hosting starting
2025-07-02 17:49:21.115 +03:30 [INF] Now listening on: http://localhost:5062
2025-07-02 17:49:21.116 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2025-07-02 17:49:21.117 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-02 17:49:21.119 +03:30 [INF] Hosting environment: Development
2025-07-02 17:49:21.120 +03:30 [INF] Content root path: D:\DotNet-Dore\CityInfo.API\CityInfo.API
2025-07-02 17:49:21.121 +03:30 [DBG] Hosting started
2025-07-02 17:49:22.182 +03:30 [DBG] Connection id "0HNDPEDOD8NAI" received FIN.
2025-07-02 17:49:22.194 +03:30 [DBG] Connection id "0HNDPEDOD8NAI" accepted.
2025-07-02 17:49:22.196 +03:30 [DBG] Connection id "0HNDPEDOD8NAI" started.
2025-07-02 17:49:22.213 +03:30 [DBG] Connection id "0HNDPEDOD8NAI" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-02 17:49:22.217 +03:30 [DBG] Connection id "0HNDPEDOD8NAI" disconnecting.
2025-07-02 17:49:22.222 +03:30 [DBG] Connection id "0HNDPEDOD8NAI" stopped.
2025-07-02 17:49:23.043 +03:30 [DBG] Connection id "0HNDPEDOD8NAJ" accepted.
2025-07-02 17:49:23.044 +03:30 [DBG] Connection id "0HNDPEDOD8NAJ" started.
2025-07-02 17:49:23.045 +03:30 [DBG] Connection id "0HNDPEDOD8NAK" accepted.
2025-07-02 17:49:23.047 +03:30 [DBG] Connection id "0HNDPEDOD8NAK" started.
2025-07-02 17:49:23.081 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/index.html - null null
2025-07-02 17:49:23.089 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-02 17:49:23.198 +03:30 [DBG] Connection id "0HNDPEDOD8NAJ" completed keep alive response.
2025-07-02 17:49:23.200 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/index.html - 200 null text/html;charset=utf-8 129.9412ms
2025-07-02 17:49:23.294 +03:30 [DBG] Connection id "0HNDPEDOD8NAL" accepted.
2025-07-02 17:49:23.294 +03:30 [DBG] Connection id "0HNDPEDOD8NAL" started.
2025-07-02 17:49:29.039 +03:30 [DBG] Connection id "0HNDPEDOD8NAM" accepted.
2025-07-02 17:49:29.043 +03:30 [DBG] Connection id "0HNDPEDOD8NAM" started.
2025-07-02 17:49:29.048 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/cities - null null
2025-07-02 17:49:29.061 +03:30 [DBG] The request path  does not match the path filter
2025-07-02 17:49:29.068 +03:30 [WRN] Failed to determine the https port for redirect.
2025-07-02 17:49:29.156 +03:30 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-07-02 17:49:29.169 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2025-07-02 17:49:29.175 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-07-02 17:49:29.192 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-07-02 17:49:29.316 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-07-02 17:49:29.326 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-02 17:49:29.330 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-02 17:49:29.334 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-02 17:49:29.337 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-02 17:49:29.342 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-02 17:49:29.350 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-07-02 17:49:30.091 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-02 17:49:30.197 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-07-02 17:49:30.241 +03:30 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2025-07-02 17:49:31.934 +03:30 [INF] Entity Framework Core 6.0.10 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.10' with options: None
2025-07-02 17:49:31.936 +03:30 [DBG] Connection id "0HNDPEDOD8NAK" received FIN.
2025-07-02 17:49:31.936 +03:30 [DBG] Connection id "0HNDPEDOD8NAL" received FIN.
2025-07-02 17:49:31.936 +03:30 [DBG] Connection id "0HNDPEDOD8NAJ" received FIN.
2025-07-02 17:49:31.940 +03:30 [DBG] Connection id "0HNDPEDOD8NAK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-02 17:49:31.941 +03:30 [DBG] Connection id "0HNDPEDOD8NAL" disconnecting.
2025-07-02 17:49:31.943 +03:30 [DBG] Connection id "0HNDPEDOD8NAJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-02 17:49:31.948 +03:30 [DBG] Connection id "0HNDPEDOD8NAK" disconnecting.
2025-07-02 17:49:31.950 +03:30 [DBG] Connection id "0HNDPEDOD8NAL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-02 17:49:31.953 +03:30 [DBG] Connection id "0HNDPEDOD8NAJ" disconnecting.
2025-07-02 17:49:31.957 +03:30 [DBG] Connection id "0HNDPEDOD8NAK" stopped.
2025-07-02 17:49:31.959 +03:30 [DBG] Connection id "0HNDPEDOD8NAL" stopped.
2025-07-02 17:49:31.960 +03:30 [DBG] Connection id "0HNDPEDOD8NAJ" stopped.
2025-07-02 17:49:32.009 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-07-02 17:49:32.394 +03:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoDbContext, 
    False, 
    False, 
    True
)'
2025-07-02 17:49:32.468 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-02 17:49:32.534 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (62ms).
2025-07-02 17:49:32.546 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:49:32.590 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:49:32.616 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2025-07-02 17:49:32.658 +03:30 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2025-07-02 17:49:32.680 +03:30 [DBG] A data reader was disposed.
2025-07-02 17:49:32.695 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:49:32.704 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:49:32.723 +03:30 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2469.1215ms.
2025-07-02 17:49:32.736 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-07-02 17:49:32.749 +03:30 [DBG] No information found on request to perform content negotiation.
2025-07-02 17:49:32.750 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-02 17:49:32.754 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-02 17:49:32.758 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-02 17:49:32.765 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-02 17:49:33.001 +03:30 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 3651.5226ms
2025-07-02 17:49:33.003 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-07-02 17:49:33.005 +03:30 [DBG] Connection id "0HNDPEDOD8NAM" completed keep alive response.
2025-07-02 17:49:33.010 +03:30 [DBG] 'CityInfoDbContext' disposed.
2025-07-02 17:49:33.015 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/cities - 200 2 application/json; charset=utf-8 3967.6599ms
2025-07-02 17:50:26.414 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/cities - null null
2025-07-02 17:50:26.424 +03:30 [DBG] The request path  does not match the path filter
2025-07-02 17:50:26.427 +03:30 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-07-02 17:50:26.430 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2025-07-02 17:50:26.437 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-07-02 17:50:26.442 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-07-02 17:50:26.446 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-07-02 17:50:26.451 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-02 17:50:26.454 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-02 17:50:26.457 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-02 17:50:26.461 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-02 17:50:26.465 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-02 17:50:26.469 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-07-02 17:50:26.473 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-07-02 17:50:26.477 +03:30 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2025-07-02 17:50:26.516 +03:30 [INF] Entity Framework Core 6.0.10 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.10' with options: None
2025-07-02 17:50:26.523 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-02 17:50:26.525 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-02 17:50:26.526 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:50:26.527 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:50:26.529 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2025-07-02 17:50:26.532 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2025-07-02 17:50:26.535 +03:30 [DBG] A data reader was disposed.
2025-07-02 17:50:26.536 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:50:26.538 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:50:26.539 +03:30 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 60.5849ms.
2025-07-02 17:50:26.542 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-07-02 17:50:26.545 +03:30 [DBG] No information found on request to perform content negotiation.
2025-07-02 17:50:26.546 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-02 17:50:26.547 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-02 17:50:26.548 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-02 17:50:26.549 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-02 17:50:26.552 +03:30 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 82.8064ms
2025-07-02 17:50:26.553 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-07-02 17:50:26.554 +03:30 [DBG] Connection id "0HNDPEDOD8NAM" completed keep alive response.
2025-07-02 17:50:26.555 +03:30 [DBG] 'CityInfoDbContext' disposed.
2025-07-02 17:50:26.557 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/cities - 200 2 application/json; charset=utf-8 142.8656ms
2025-07-02 17:50:28.990 +03:30 [INF] Application is shutting down...
2025-07-02 17:50:28.991 +03:30 [DBG] Hosting stopping
2025-07-02 17:50:29.001 +03:30 [DBG] Connection id "0HNDPEDOD8NAM" disconnecting.
2025-07-02 17:50:29.005 +03:30 [DBG] Connection id "0HNDPEDOD8NAM" stopped.
2025-07-02 17:50:29.008 +03:30 [DBG] Connection id "0HNDPEDOD8NAM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-02 17:50:29.018 +03:30 [DBG] Hosting stopped
2025-07-02 17:50:32.743 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-02 17:50:32.829 +03:30 [DBG] Hosting starting
2025-07-02 17:50:32.878 +03:30 [INF] Now listening on: http://localhost:5062
2025-07-02 17:50:32.879 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2025-07-02 17:50:32.882 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-02 17:50:32.883 +03:30 [INF] Hosting environment: Development
2025-07-02 17:50:32.885 +03:30 [INF] Content root path: D:\DotNet-Dore\CityInfo.API\CityInfo.API
2025-07-02 17:50:32.886 +03:30 [DBG] Hosting started
2025-07-02 17:50:33.287 +03:30 [DBG] Connection id "0HNDPEEDJC6TS" received FIN.
2025-07-02 17:50:33.295 +03:30 [DBG] Connection id "0HNDPEEDJC6TS" accepted.
2025-07-02 17:50:33.296 +03:30 [DBG] Connection id "0HNDPEEDJC6TS" started.
2025-07-02 17:50:33.304 +03:30 [DBG] Connection id "0HNDPEEDJC6TS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-02 17:50:33.307 +03:30 [DBG] Connection id "0HNDPEEDJC6TS" disconnecting.
2025-07-02 17:50:33.312 +03:30 [DBG] Connection id "0HNDPEEDJC6TS" stopped.
2025-07-02 17:50:33.653 +03:30 [DBG] Connection id "0HNDPEEDJC6TT" received FIN.
2025-07-02 17:50:33.655 +03:30 [DBG] Connection id "0HNDPEEDJC6TT" accepted.
2025-07-02 17:50:33.656 +03:30 [DBG] Connection id "0HNDPEEDJC6TT" started.
2025-07-02 17:50:33.657 +03:30 [DBG] Connection id "0HNDPEEDJC6TT" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-02 17:50:33.659 +03:30 [DBG] Connection id "0HNDPEEDJC6TT" disconnecting.
2025-07-02 17:50:33.661 +03:30 [DBG] Connection id "0HNDPEEDJC6TT" stopped.
2025-07-02 17:50:33.679 +03:30 [DBG] Connection id "0HNDPEEDJC6TU" accepted.
2025-07-02 17:50:33.681 +03:30 [DBG] Connection id "0HNDPEEDJC6TV" accepted.
2025-07-02 17:50:33.681 +03:30 [DBG] Connection id "0HNDPEEDJC6TU" started.
2025-07-02 17:50:33.682 +03:30 [DBG] Connection id "0HNDPEEDJC6TV" started.
2025-07-02 17:50:33.712 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/index.html - null null
2025-07-02 17:50:33.723 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-02 17:50:33.896 +03:30 [DBG] Connection id "0HNDPEEDJC6TU" completed keep alive response.
2025-07-02 17:50:33.900 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/index.html - 200 null text/html;charset=utf-8 188.2583ms
2025-07-02 17:50:33.901 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/index.html - null null
2025-07-02 17:50:33.910 +03:30 [DBG] Connection id "0HNDPEEDJC6TV" completed keep alive response.
2025-07-02 17:50:33.913 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/index.html - 200 null text/html;charset=utf-8 11.8708ms
2025-07-02 17:50:33.928 +03:30 [DBG] Connection id "0HNDPEEDJC6U0" accepted.
2025-07-02 17:50:33.929 +03:30 [DBG] Connection id "0HNDPEEDJC6U0" started.
2025-07-02 17:50:38.990 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-07-02 17:50:39.143 +03:30 [DBG] Connection id "0HNDPEEDJC6TV" completed keep alive response.
2025-07-02 17:50:39.145 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 154.78ms
2025-07-02 17:50:41.947 +03:30 [DBG] Connection id "0HNDPEEDJC6TU" received FIN.
2025-07-02 17:50:41.947 +03:30 [DBG] Connection id "0HNDPEEDJC6U0" received FIN.
2025-07-02 17:50:41.947 +03:30 [DBG] Connection id "0HNDPEEDJC6TV" received FIN.
2025-07-02 17:50:41.948 +03:30 [DBG] Connection id "0HNDPEEDJC6TU" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-02 17:50:41.949 +03:30 [DBG] Connection id "0HNDPEEDJC6U0" disconnecting.
2025-07-02 17:50:41.950 +03:30 [DBG] Connection id "0HNDPEEDJC6TV" disconnecting.
2025-07-02 17:50:41.951 +03:30 [DBG] Connection id "0HNDPEEDJC6TU" disconnecting.
2025-07-02 17:50:41.952 +03:30 [DBG] Connection id "0HNDPEEDJC6U0" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-02 17:50:41.953 +03:30 [DBG] Connection id "0HNDPEEDJC6TV" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-02 17:50:41.954 +03:30 [DBG] Connection id "0HNDPEEDJC6TU" stopped.
2025-07-02 17:50:41.955 +03:30 [DBG] Connection id "0HNDPEEDJC6U0" stopped.
2025-07-02 17:50:41.956 +03:30 [DBG] Connection id "0HNDPEEDJC6TV" stopped.
2025-07-02 17:50:48.589 +03:30 [DBG] Connection id "0HNDPEEDJC6U1" accepted.
2025-07-02 17:50:48.593 +03:30 [DBG] Connection id "0HNDPEEDJC6U1" started.
2025-07-02 17:50:48.598 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/cities - null null
2025-07-02 17:50:48.614 +03:30 [DBG] The request path  does not match the path filter
2025-07-02 17:50:48.619 +03:30 [WRN] Failed to determine the https port for redirect.
2025-07-02 17:50:48.657 +03:30 [DBG] 1 candidate(s) found for the request path '/api/cities'
2025-07-02 17:50:48.671 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2025-07-02 17:50:48.686 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-07-02 17:50:48.694 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-07-02 17:50:48.730 +03:30 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.API.Models.CityWithoutPointOfInterestDto]]] GetCities() on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-07-02 17:50:48.735 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-02 17:50:48.736 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-02 17:50:48.737 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-02 17:50:48.739 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-02 17:50:48.740 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-02 17:50:48.742 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-07-02 17:50:48.834 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-02 17:50:48.857 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-07-02 17:50:48.866 +03:30 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) - Validation state: "Valid"
2025-07-02 17:50:49.449 +03:30 [INF] Entity Framework Core 6.0.10 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.10' with options: None
2025-07-02 17:50:49.475 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2025-07-02 17:50:49.596 +03:30 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.API.DbContexts.CityInfoDbContext, 
    False, 
    False, 
    True
)'
2025-07-02 17:50:49.620 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-02 17:50:49.649 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2025-07-02 17:50:49.653 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:50:49.668 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:50:49.679 +03:30 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2025-07-02 17:50:49.694 +03:30 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
ORDER BY "c"."Name"
2025-07-02 17:50:49.701 +03:30 [DBG] A data reader was disposed.
2025-07-02 17:50:49.705 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-02 17:50:49.708 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-02 17:50:49.712 +03:30 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 841.7146ms.
2025-07-02 17:50:49.715 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-07-02 17:50:49.719 +03:30 [DBG] No information found on request to perform content negotiation.
2025-07-02 17:50:49.720 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-02 17:50:49.720 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-02 17:50:49.722 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-02 17:50:49.722 +03:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.API.Models.CityWithoutPointOfInterestDto, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-02 17:50:49.784 +03:30 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API) in 1040.0944ms
2025-07-02 17:50:49.787 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCities (CityInfo.API)'
2025-07-02 17:50:49.788 +03:30 [DBG] Connection id "0HNDPEEDJC6U1" completed keep alive response.
2025-07-02 17:50:49.792 +03:30 [DBG] 'CityInfoDbContext' disposed.
2025-07-02 17:50:49.795 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/cities - 200 2 application/json; charset=utf-8 1196.706ms
2025-07-02 17:51:17.007 +03:30 [INF] Application is shutting down...
2025-07-02 17:51:17.010 +03:30 [DBG] Hosting stopping
2025-07-02 17:51:17.020 +03:30 [DBG] Connection id "0HNDPEEDJC6U1" disconnecting.
2025-07-02 17:51:17.022 +03:30 [DBG] Connection id "0HNDPEEDJC6U1" stopped.
2025-07-02 17:51:17.024 +03:30 [DBG] Connection id "0HNDPEEDJC6U1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-02 17:51:17.033 +03:30 [DBG] Hosting stopped
