2025-07-04 00:35:42.499 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-04 00:35:42.579 +03:30 [DBG] Hosting starting
2025-07-04 00:35:42.635 +03:30 [INF] Now listening on: http://localhost:5062
2025-07-04 00:35:42.636 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2025-07-04 00:35:42.637 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 00:35:42.638 +03:30 [INF] Hosting environment: Development
2025-07-04 00:35:42.640 +03:30 [INF] Content root path: D:\DotNet-Dore\CityInfo.API\CityInfo.API
2025-07-04 00:35:42.641 +03:30 [DBG] Hosting started
2025-07-04 00:35:42.787 +03:30 [DBG] Connection id "0HNDQELFJE3PA" accepted.
2025-07-04 00:35:42.788 +03:30 [DBG] Connection id "0HNDQELFJE3PA" started.
2025-07-04 00:35:42.826 +03:30 [DBG] Connection id "0HNDQELFJE3PB" accepted.
2025-07-04 00:35:42.828 +03:30 [DBG] Connection id "0HNDQELFJE3PB" started.
2025-07-04 00:35:42.828 +03:30 [DBG] Connection id "0HNDQELFJE3PC" accepted.
2025-07-04 00:35:42.835 +03:30 [DBG] Connection id "0HNDQELFJE3PC" started.
2025-07-04 00:35:44.452 +03:30 [DBG] Connection id "0HNDQELFJE3PA" received FIN.
2025-07-04 00:35:44.452 +03:30 [DBG] Connection id "0HNDQELFJE3PB" received FIN.
2025-07-04 00:35:44.453 +03:30 [DBG] Connection id "0HNDQELFJE3PC" received FIN.
2025-07-04 00:35:44.469 +03:30 [DBG] Connection id "0HNDQELFJE3PA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 00:35:44.469 +03:30 [DBG] Connection id "0HNDQELFJE3PC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 00:35:44.469 +03:30 [DBG] Connection id "0HNDQELFJE3PB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 00:35:44.477 +03:30 [DBG] Connection id "0HNDQELFJE3PA" disconnecting.
2025-07-04 00:35:44.478 +03:30 [DBG] Connection id "0HNDQELFJE3PC" disconnecting.
2025-07-04 00:35:44.481 +03:30 [DBG] Connection id "0HNDQELFJE3PB" disconnecting.
2025-07-04 00:35:44.484 +03:30 [DBG] Connection id "0HNDQELFJE3PA" stopped.
2025-07-04 00:35:44.485 +03:30 [DBG] Connection id "0HNDQELFJE3PC" stopped.
2025-07-04 00:35:44.487 +03:30 [DBG] Connection id "0HNDQELFJE3PB" stopped.
2025-07-04 00:37:33.821 +03:30 [DBG] Connection id "0HNDQELFJE3PD" received FIN.
2025-07-04 00:37:33.822 +03:30 [DBG] Connection id "0HNDQELFJE3PD" accepted.
2025-07-04 00:37:33.824 +03:30 [DBG] Connection id "0HNDQELFJE3PD" started.
2025-07-04 00:37:33.825 +03:30 [DBG] Connection id "0HNDQELFJE3PD" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 00:37:33.827 +03:30 [DBG] Connection id "0HNDQELFJE3PD" disconnecting.
2025-07-04 00:37:33.829 +03:30 [DBG] Connection id "0HNDQELFJE3PE" accepted.
2025-07-04 00:37:33.830 +03:30 [DBG] Connection id "0HNDQELFJE3PD" stopped.
2025-07-04 00:37:33.831 +03:30 [DBG] Connection id "0HNDQELFJE3PE" started.
2025-07-04 00:37:33.885 +03:30 [INF] Request starting HTTP/1.1 POST http://localhost:5062/api/cities/2/pointsofinterest/ - application/json 73
2025-07-04 00:37:33.902 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-04 00:37:33.949 +03:30 [DBG] POST requests are not supported
2025-07-04 00:37:33.953 +03:30 [WRN] Failed to determine the https port for redirect.
2025-07-04 00:37:34.003 +03:30 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest/'
2025-07-04 00:37:34.021 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest' is valid for the request path '/api/cities/2/pointsofinterest/'
2025-07-04 00:37:34.026 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2025-07-04 00:37:34.033 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2025-07-04 00:37:34.095 +03:30 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.API.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.API.Models.PointOfInterestForCreationDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-07-04 00:37:34.101 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-04 00:37:34.104 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-04 00:37:34.106 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-04 00:37:34.109 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-04 00:37:34.111 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-04 00:37:34.117 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-07-04 00:37:34.597 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-04 00:37:34.869 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-07-04 00:37:34.879 +03:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-07-04 00:37:34.884 +03:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-07-04 00:37:34.888 +03:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-07-04 00:37:34.891 +03:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-07-04 00:37:34.894 +03:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-07-04 00:37:34.897 +03:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-07-04 00:37:34.903 +03:30 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2025-07-04 00:37:34.907 +03:30 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2025-07-04 00:37:34.911 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-07-04 00:37:34.914 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-07-04 00:37:34.927 +03:30 [DBG] Connection id "0HNDQELFJE3PE", Request id "0HNDQELFJE3PE:00000001": started reading request body.
2025-07-04 00:37:34.930 +03:30 [DBG] Connection id "0HNDQELFJE3PE", Request id "0HNDQELFJE3PE:00000001": done reading request body.
2025-07-04 00:37:35.095 +03:30 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2025-07-04 00:37:35.097 +03:30 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2025-07-04 00:37:35.099 +03:30 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto' ...
2025-07-04 00:37:35.107 +03:30 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForCreationDto'.
2025-07-04 00:37:35.125 +03:30 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) - Validation state: "Valid"
2025-07-04 00:37:36.442 +03:30 [INF] Entity Framework Core 6.0.10 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.10' with options: None
2025-07-04 00:37:36.567 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2025-07-04 00:37:36.861 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-04 00:37:36.937 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-04 00:37:37.498 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (556ms).
2025-07-04 00:37:37.513 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-04 00:37:37.552 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 00:37:37.581 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-07-04 00:37:37.627 +03:30 [INF] Executed DbCommand (50ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-07-04 00:37:37.652 +03:30 [DBG] A data reader was disposed.
2025-07-04 00:37:37.663 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 00:37:37.671 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-04 00:37:37.700 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2025-07-04 00:37:37.727 +03:30 [DBG] Including navigation: 'City.PointOfInterest'.
2025-07-04 00:37:37.893 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) Required MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterest AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-04 00:37:37.907 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-04 00:37:37.909 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-07-04 00:37:37.911 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-04 00:37:37.913 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 00:37:37.915 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2025-07-04 00:37:37.917 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2025-07-04 00:37:37.950 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-04 00:37:37.995 +03:30 [DBG] A data reader was disposed.
2025-07-04 00:37:37.996 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 00:37:37.998 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-04 00:37:38.005 +03:30 [DBG] SaveChanges starting for 'CityInfoDbContext'.
2025-07-04 00:37:38.010 +03:30 [DBG] DetectChanges starting for 'CityInfoDbContext'.
2025-07-04 00:37:38.041 +03:30 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-04 00:37:38.084 +03:30 [DBG] 'CityInfoDbContext' generated a temporary value for the property '{2_entityType}.{1_property}'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-04 00:37:38.128 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-04 00:37:38.135 +03:30 [DBG] DetectChanges completed for 'CityInfoDbContext'.
2025-07-04 00:37:38.159 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-04 00:37:38.162 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 00:37:38.168 +03:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-04 00:37:38.178 +03:30 [DBG] Began transaction with isolation level 'Serializable'.
2025-07-04 00:37:38.261 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-04 00:37:38.262 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-04 00:37:38.264 +03:30 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 13), @p2='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2025-07-04 00:37:38.271 +03:30 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 13), @p2='?' (Size = 18)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PointOfInterest" ("CityId", "Description", "Name")
VALUES (@p0, @p1, @p2);
SELECT "Id"
FROM "PointOfInterest"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2025-07-04 00:37:38.302 +03:30 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-04 00:37:38.311 +03:30 [DBG] A data reader was disposed.
2025-07-04 00:37:38.317 +03:30 [DBG] Committing transaction.
2025-07-04 00:37:38.325 +03:30 [DBG] Committed transaction.
2025-07-04 00:37:38.329 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 00:37:38.331 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-04 00:37:38.336 +03:30 [DBG] Disposing transaction.
2025-07-04 00:37:38.352 +03:30 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-04 00:37:38.357 +03:30 [DBG] SaveChanges completed for 'CityInfoDbContext' with 1 entities written to the database.
2025-07-04 00:37:38.370 +03:30 [INF] Executed action method CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.CreatedAtRouteResult in 3234.7673ms.
2025-07-04 00:37:38.377 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-07-04 00:37:38.384 +03:30 [DBG] No information found on request to perform content negotiation.
2025-07-04 00:37:38.385 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-04 00:37:38.386 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-04 00:37:38.388 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-04 00:37:38.391 +03:30 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.API.Models.PointOfInterestDto'.
2025-07-04 00:37:38.422 +03:30 [DBG] Found the endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] for address GetPointOfInterest(cityId=[2],pointOfInterestId=[4])
2025-07-04 00:37:38.429 +03:30 [DBG] Successfully processed template api/cities/{cityId}/pointsofinterest/{pointOfInterestId} for CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API) resulting in /api/cities/2/pointsofinterest/4 and 
2025-07-04 00:37:38.433 +03:30 [DBG] Link generation succeeded for endpoints ["CityInfo.API.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.API)"] with result /api/cities/2/pointsofinterest/4
2025-07-04 00:37:38.508 +03:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API) in 4387.542ms
2025-07-04 00:37:38.510 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.API)'
2025-07-04 00:37:38.511 +03:30 [DBG] Connection id "0HNDQELFJE3PE" completed keep alive response.
2025-07-04 00:37:38.517 +03:30 [DBG] 'CityInfoDbContext' disposed.
2025-07-04 00:37:38.522 +03:30 [INF] Request finished HTTP/1.1 POST http://localhost:5062/api/cities/2/pointsofinterest/ - 201 66 application/json; charset=utf-8 4660.4684ms
2025-07-04 00:38:24.101 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/cities/2?includePointOfInterest=false - null null
2025-07-04 00:38:24.115 +03:30 [DBG] The request path  does not match the path filter
2025-07-04 00:38:24.118 +03:30 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2025-07-04 00:38:24.119 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/cities/2'
2025-07-04 00:38:24.121 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-07-04 00:38:24.123 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-07-04 00:38:24.134 +03:30 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-07-04 00:38:24.137 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-04 00:38:24.138 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-04 00:38:24.140 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-04 00:38:24.142 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-04 00:38:24.144 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-04 00:38:24.145 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-07-04 00:38:24.149 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-07-04 00:38:24.157 +03:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-07-04 00:38:24.159 +03:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-07-04 00:38:24.160 +03:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-07-04 00:38:24.162 +03:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-07-04 00:38:24.163 +03:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-07-04 00:38:24.164 +03:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-07-04 00:38:24.166 +03:30 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2025-07-04 00:38:24.168 +03:30 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2025-07-04 00:38:24.171 +03:30 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2025-07-04 00:38:24.172 +03:30 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2025-07-04 00:38:24.173 +03:30 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2025-07-04 00:38:24.175 +03:30 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2025-07-04 00:38:24.176 +03:30 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2025-07-04 00:38:24.208 +03:30 [INF] Entity Framework Core 6.0.10 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.10' with options: None
2025-07-04 00:38:24.213 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2025-07-04 00:38:24.222 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-04 00:38:24.226 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-04 00:38:24.227 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-04 00:38:24.229 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-04 00:38:24.231 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 00:38:24.233 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-07-04 00:38:24.236 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "c"."Id", "c"."Description", "c"."Name"
FROM "Cities" AS "c"
WHERE "c"."Id" = @__cityId_0
LIMIT 1
2025-07-04 00:38:24.239 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-04 00:38:24.241 +03:30 [DBG] A data reader was disposed.
2025-07-04 00:38:24.242 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 00:38:24.243 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-04 00:38:24.248 +03:30 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 70.0732ms.
2025-07-04 00:38:24.250 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-07-04 00:38:24.253 +03:30 [DBG] No information found on request to perform content negotiation.
2025-07-04 00:38:24.254 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-04 00:38:24.255 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-04 00:38:24.256 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-04 00:38:24.257 +03:30 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityWithoutPointOfInterestDto'.
2025-07-04 00:38:24.262 +03:30 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 117.3328ms
2025-07-04 00:38:24.264 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-07-04 00:38:24.265 +03:30 [DBG] Connection id "0HNDQELFJE3PE" completed keep alive response.
2025-07-04 00:38:24.267 +03:30 [DBG] 'CityInfoDbContext' disposed.
2025-07-04 00:38:24.268 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/cities/2?includePointOfInterest=false - 200 55 application/json; charset=utf-8 167.1828ms
2025-07-04 00:38:29.700 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/api/cities/2?includePointOfInterest=true - null null
2025-07-04 00:38:29.706 +03:30 [DBG] The request path  does not match the path filter
2025-07-04 00:38:29.708 +03:30 [DBG] 1 candidate(s) found for the request path '/api/cities/2'
2025-07-04 00:38:29.709 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)' with route pattern 'api/Cities/{id}' is valid for the request path '/api/cities/2'
2025-07-04 00:38:29.711 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-07-04 00:38:29.712 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-07-04 00:38:29.714 +03:30 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.API.Controllers.CitiesController (CityInfo.API).
2025-07-04 00:38:29.716 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-04 00:38:29.717 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-04 00:38:29.719 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-04 00:38:29.720 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-04 00:38:29.722 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-04 00:38:29.724 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-07-04 00:38:29.729 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.CitiesController (CityInfo.API)
2025-07-04 00:38:29.730 +03:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2025-07-04 00:38:29.732 +03:30 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2025-07-04 00:38:29.733 +03:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-07-04 00:38:29.735 +03:30 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2025-07-04 00:38:29.736 +03:30 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2025-07-04 00:38:29.738 +03:30 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2025-07-04 00:38:29.739 +03:30 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' ...
2025-07-04 00:38:29.741 +03:30 [DBG] Attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean' using the name 'includePointOfInterest' in request data ...
2025-07-04 00:38:29.742 +03:30 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2025-07-04 00:38:29.744 +03:30 [DBG] Done attempting to bind parameter 'includePointOfInterest' of type 'System.Boolean'.
2025-07-04 00:38:29.745 +03:30 [DBG] Attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean' ...
2025-07-04 00:38:29.747 +03:30 [DBG] Done attempting to validate the bound parameter 'includePointOfInterest' of type 'System.Boolean'.
2025-07-04 00:38:29.748 +03:30 [INF] Executing action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) - Validation state: "Valid"
2025-07-04 00:38:29.845 +03:30 [INF] Entity Framework Core 6.0.10 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.10' with options: None
2025-07-04 00:38:29.855 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-04 00:38:29.856 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-04 00:38:29.858 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-04 00:38:29.859 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 00:38:29.861 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2025-07-04 00:38:29.864 +03:30 [INF] Executed DbCommand (3ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "t"."Id", "t"."Description", "t"."Name", "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM (
    SELECT "c"."Id", "c"."Description", "c"."Name"
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0
    LIMIT 1
) AS "t"
LEFT JOIN "PointOfInterest" AS "p" ON "t"."Id" = "p"."CityId"
ORDER BY "t"."Id"
2025-07-04 00:38:29.866 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-04 00:38:29.870 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-04 00:38:29.874 +03:30 [DBG] A data reader was disposed.
2025-07-04 00:38:29.875 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 00:38:29.876 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-04 00:38:29.884 +03:30 [INF] Executed action method CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 134.7309ms.
2025-07-04 00:38:29.886 +03:30 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2025-07-04 00:38:29.888 +03:30 [DBG] No information found on request to perform content negotiation.
2025-07-04 00:38:29.889 +03:30 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-04 00:38:29.891 +03:30 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-04 00:38:29.891 +03:30 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2025-07-04 00:38:29.893 +03:30 [INF] Executing OkObjectResult, writing value of type 'CityInfo.API.Models.CityDto'.
2025-07-04 00:38:29.913 +03:30 [INF] Executed action CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API) in 189.2047ms
2025-07-04 00:38:29.914 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.CitiesController.GetCity (CityInfo.API)'
2025-07-04 00:38:29.915 +03:30 [DBG] Connection id "0HNDQELFJE3PE" completed keep alive response.
2025-07-04 00:38:29.917 +03:30 [DBG] 'CityInfoDbContext' disposed.
2025-07-04 00:38:29.918 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/api/cities/2?includePointOfInterest=true - 200 170 application/json; charset=utf-8 217.8475ms
2025-07-04 00:38:54.027 +03:30 [INF] Application is shutting down...
2025-07-04 00:38:54.029 +03:30 [DBG] Hosting stopping
2025-07-04 00:38:54.052 +03:30 [DBG] Connection id "0HNDQELFJE3PE" disconnecting.
2025-07-04 00:38:54.059 +03:30 [DBG] Connection id "0HNDQELFJE3PE" stopped.
2025-07-04 00:38:54.063 +03:30 [DBG] Connection id "0HNDQELFJE3PE" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 00:38:54.075 +03:30 [DBG] Hosting stopped
2025-07-04 00:48:39.634 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-04 00:48:39.694 +03:30 [DBG] Hosting starting
2025-07-04 00:48:39.730 +03:30 [INF] Now listening on: http://localhost:5062
2025-07-04 00:48:39.732 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2025-07-04 00:48:39.734 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 00:48:39.736 +03:30 [INF] Hosting environment: Development
2025-07-04 00:48:39.736 +03:30 [INF] Content root path: D:\DotNet-Dore\CityInfo.API\CityInfo.API
2025-07-04 00:48:39.737 +03:30 [DBG] Hosting started
2025-07-04 00:48:39.900 +03:30 [DBG] Connection id "0HNDQESN6IAN9" received FIN.
2025-07-04 00:48:39.916 +03:30 [DBG] Connection id "0HNDQESN6IAN9" accepted.
2025-07-04 00:48:39.918 +03:30 [DBG] Connection id "0HNDQESN6IAN9" started.
2025-07-04 00:48:39.926 +03:30 [DBG] Connection id "0HNDQESN6IAN9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 00:48:39.935 +03:30 [DBG] Connection id "0HNDQESN6IAN9" disconnecting.
2025-07-04 00:48:39.941 +03:30 [DBG] Connection id "0HNDQESN6IAN9" stopped.
2025-07-04 00:48:40.076 +03:30 [DBG] Connection id "0HNDQESN6IANA" accepted.
2025-07-04 00:48:40.080 +03:30 [DBG] Connection id "0HNDQESN6IANA" started.
2025-07-04 00:48:40.080 +03:30 [DBG] Connection id "0HNDQESN6IANB" accepted.
2025-07-04 00:48:40.083 +03:30 [DBG] Connection id "0HNDQESN6IANB" started.
2025-07-04 00:48:40.105 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/index.html - null null
2025-07-04 00:48:40.110 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-04 00:48:40.212 +03:30 [DBG] Connection id "0HNDQESN6IANA" completed keep alive response.
2025-07-04 00:48:40.214 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/index.html - 200 null text/html;charset=utf-8 119.3364ms
2025-07-04 00:48:44.046 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-07-04 00:48:44.200 +03:30 [DBG] Connection id "0HNDQESN6IANA" completed keep alive response.
2025-07-04 00:48:44.201 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 155.3009ms
2025-07-04 00:48:44.570 +03:30 [DBG] Connection id "0HNDQESN6IANB" received FIN.
2025-07-04 00:48:44.570 +03:30 [DBG] Connection id "0HNDQESN6IANA" received FIN.
2025-07-04 00:48:44.572 +03:30 [DBG] Connection id "0HNDQESN6IANB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 00:48:44.572 +03:30 [DBG] Connection id "0HNDQESN6IANA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 00:48:44.573 +03:30 [DBG] Connection id "0HNDQESN6IANB" disconnecting.
2025-07-04 00:48:44.574 +03:30 [DBG] Connection id "0HNDQESN6IANA" disconnecting.
2025-07-04 00:48:44.575 +03:30 [DBG] Connection id "0HNDQESN6IANA" stopped.
2025-07-04 00:48:44.575 +03:30 [DBG] Connection id "0HNDQESN6IANB" stopped.
2025-07-04 00:49:18.392 +03:30 [INF] Application is shutting down...
2025-07-04 00:49:18.394 +03:30 [DBG] Hosting stopping
2025-07-04 00:49:18.412 +03:30 [DBG] Hosting stopped
2025-07-04 01:01:50.229 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-04 01:01:50.316 +03:30 [DBG] Hosting starting
2025-07-04 01:01:50.524 +03:30 [INF] Now listening on: http://localhost:5062
2025-07-04 01:01:50.526 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2025-07-04 01:01:50.527 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 01:01:50.527 +03:30 [INF] Hosting environment: Development
2025-07-04 01:01:50.528 +03:30 [INF] Content root path: D:\DotNet-Dore\CityInfo.API\CityInfo.API
2025-07-04 01:01:50.529 +03:30 [DBG] Hosting started
2025-07-04 01:01:50.563 +03:30 [DBG] Connection id "0HNDQF42QT8F5" received FIN.
2025-07-04 01:01:50.576 +03:30 [DBG] Connection id "0HNDQF42QT8F5" accepted.
2025-07-04 01:01:50.578 +03:30 [DBG] Connection id "0HNDQF42QT8F5" started.
2025-07-04 01:01:50.584 +03:30 [DBG] Connection id "0HNDQF42QT8F5" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:01:50.589 +03:30 [DBG] Connection id "0HNDQF42QT8F5" disconnecting.
2025-07-04 01:01:50.593 +03:30 [DBG] Connection id "0HNDQF42QT8F5" stopped.
2025-07-04 01:01:50.716 +03:30 [DBG] Connection id "0HNDQF42QT8F6" accepted.
2025-07-04 01:01:50.717 +03:30 [DBG] Connection id "0HNDQF42QT8F6" started.
2025-07-04 01:01:50.717 +03:30 [DBG] Connection id "0HNDQF42QT8F7" accepted.
2025-07-04 01:01:50.721 +03:30 [DBG] Connection id "0HNDQF42QT8F7" started.
2025-07-04 01:01:50.752 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/index.html - null null
2025-07-04 01:01:50.762 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-04 01:01:50.871 +03:30 [DBG] Connection id "0HNDQF42QT8F6" completed keep alive response.
2025-07-04 01:01:50.873 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/index.html - 200 null text/html;charset=utf-8 135.6983ms
2025-07-04 01:01:52.694 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-07-04 01:01:52.884 +03:30 [DBG] Connection id "0HNDQF42QT8F6" completed keep alive response.
2025-07-04 01:01:52.886 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 192.0863ms
2025-07-04 01:02:00.478 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/index.html - null null
2025-07-04 01:02:00.484 +03:30 [DBG] Connection id "0HNDQF42QT8F6" completed keep alive response.
2025-07-04 01:02:00.486 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/index.html - 200 null text/html;charset=utf-8 8.1494ms
2025-07-04 01:02:02.105 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-07-04 01:02:02.121 +03:30 [DBG] Connection id "0HNDQF42QT8F6" completed keep alive response.
2025-07-04 01:02:02.122 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.791ms
2025-07-04 01:03:12.875 +03:30 [DBG] Connection id "0HNDQF42QT8F7" received FIN.
2025-07-04 01:03:12.883 +03:30 [DBG] Connection id "0HNDQF42QT8F7" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:03:12.890 +03:30 [DBG] Connection id "0HNDQF42QT8F7" disconnecting.
2025-07-04 01:03:12.899 +03:30 [DBG] Connection id "0HNDQF42QT8F7" stopped.
2025-07-04 01:04:12.427 +03:30 [DBG] Connection id "0HNDQF42QT8F6" disconnecting.
2025-07-04 01:04:12.434 +03:30 [DBG] Connection id "0HNDQF42QT8F6" stopped.
2025-07-04 01:04:12.441 +03:30 [DBG] Connection id "0HNDQF42QT8F6" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:09:20.427 +03:30 [DBG] Connection id "0HNDQF42QT8F8" received FIN.
2025-07-04 01:09:20.438 +03:30 [DBG] Connection id "0HNDQF42QT8F8" accepted.
2025-07-04 01:09:20.443 +03:30 [DBG] Connection id "0HNDQF42QT8F8" started.
2025-07-04 01:09:20.444 +03:30 [DBG] Connection id "0HNDQF42QT8F9" accepted.
2025-07-04 01:09:20.448 +03:30 [DBG] Connection id "0HNDQF42QT8F8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:09:20.452 +03:30 [DBG] Connection id "0HNDQF42QT8F9" started.
2025-07-04 01:09:20.458 +03:30 [DBG] Connection id "0HNDQF42QT8F8" disconnecting.
2025-07-04 01:09:20.467 +03:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/cities/2/pointsofinterest/4 - application/json 52
2025-07-04 01:09:20.467 +03:30 [DBG] Connection id "0HNDQF42QT8F8" stopped.
2025-07-04 01:09:20.484 +03:30 [DBG] PUT requests are not supported
2025-07-04 01:09:20.490 +03:30 [WRN] Failed to determine the https port for redirect.
2025-07-04 01:09:20.567 +03:30 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest/4'
2025-07-04 01:09:20.583 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/2/pointsofinterest/4'
2025-07-04 01:09:20.589 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2025-07-04 01:09:20.599 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2025-07-04 01:09:20.655 +03:30 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-07-04 01:09:20.660 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-04 01:09:20.663 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-04 01:09:20.666 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-04 01:09:20.669 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-04 01:09:20.672 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-04 01:09:20.676 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-07-04 01:09:20.857 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-04 01:09:21.086 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-07-04 01:09:21.110 +03:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-07-04 01:09:21.116 +03:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-07-04 01:09:21.124 +03:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-07-04 01:09:21.131 +03:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-07-04 01:09:21.137 +03:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-07-04 01:09:21.149 +03:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-07-04 01:09:21.167 +03:30 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-07-04 01:09:21.175 +03:30 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-07-04 01:09:21.185 +03:30 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-07-04 01:09:21.192 +03:30 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-07-04 01:09:21.200 +03:30 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-07-04 01:09:21.209 +03:30 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-07-04 01:09:21.215 +03:30 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2025-07-04 01:09:21.225 +03:30 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2025-07-04 01:09:21.238 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-07-04 01:09:21.259 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-07-04 01:09:21.290 +03:30 [DBG] Connection id "0HNDQF42QT8F9", Request id "0HNDQF42QT8F9:00000001": started reading request body.
2025-07-04 01:09:21.299 +03:30 [DBG] Connection id "0HNDQF42QT8F9", Request id "0HNDQF42QT8F9:00000001": done reading request body.
2025-07-04 01:09:21.489 +03:30 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2025-07-04 01:09:21.492 +03:30 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2025-07-04 01:09:21.494 +03:30 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2025-07-04 01:09:21.503 +03:30 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2025-07-04 01:09:21.518 +03:30 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) - Validation state: "Valid"
2025-07-04 01:09:22.766 +03:30 [INF] Entity Framework Core 6.0.10 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.10' with options: None
2025-07-04 01:09:22.954 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2025-07-04 01:09:23.224 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-04 01:09:23.429 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-04 01:09:23.499 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (75ms).
2025-07-04 01:09:23.515 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-04 01:09:23.545 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 01:09:23.567 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-07-04 01:09:23.635 +03:30 [INF] Executed DbCommand (63ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-07-04 01:09:23.700 +03:30 [DBG] A data reader was disposed.
2025-07-04 01:09:23.716 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 01:09:23.728 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-04 01:09:23.749 +03:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2025-07-04 01:09:23.827 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-04 01:09:23.837 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-04 01:09:23.839 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-07-04 01:09:23.842 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-04 01:09:23.844 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 01:09:23.848 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2025-07-04 01:09:23.854 +03:30 [INF] Executed DbCommand (6ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2025-07-04 01:09:23.931 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-04 01:09:24.007 +03:30 [DBG] A data reader was disposed.
2025-07-04 01:09:24.008 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 01:09:24.012 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-04 01:09:24.048 +03:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 3368.6342ms
2025-07-04 01:09:24.051 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2025-07-04 01:09:24.054 +03:30 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForUpdateDto -> Task`1
CityInfo.API.Models.PointOfInterestForUpdateDto -> System.Threading.Tasks.Task`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method61(Closure, PointOfInterestForUpdateDto, Task`1, ResolutionContext)
   at CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointOfInterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\DotNet-Dore\CityInfo.API\CityInfo.API\Controllers\PointsOfInterestController.cs:line 133
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-04 01:09:24.113 +03:30 [DBG] Connection id "0HNDQF42QT8F9" completed keep alive response.
2025-07-04 01:09:24.118 +03:30 [DBG] 'CityInfoDbContext' disposed.
2025-07-04 01:09:24.124 +03:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/cities/2/pointsofinterest/4 - 500 null text/plain; charset=utf-8 3657.2953ms
2025-07-04 01:10:11.730 +03:30 [INF] Application is shutting down...
2025-07-04 01:10:11.735 +03:30 [DBG] Hosting stopping
2025-07-04 01:10:11.760 +03:30 [DBG] Connection id "0HNDQF42QT8F9" disconnecting.
2025-07-04 01:10:11.767 +03:30 [DBG] Connection id "0HNDQF42QT8F9" stopped.
2025-07-04 01:10:11.774 +03:30 [DBG] Connection id "0HNDQF42QT8F9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:10:11.806 +03:30 [DBG] Hosting stopped
2025-07-04 01:13:42.177 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-04 01:13:42.276 +03:30 [DBG] Hosting starting
2025-07-04 01:13:42.396 +03:30 [INF] Now listening on: http://localhost:5062
2025-07-04 01:13:42.401 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2025-07-04 01:13:42.406 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 01:13:42.410 +03:30 [INF] Hosting environment: Development
2025-07-04 01:13:42.415 +03:30 [INF] Content root path: D:\DotNet-Dore\CityInfo.API\CityInfo.API
2025-07-04 01:13:42.416 +03:30 [DBG] Hosting started
2025-07-04 01:13:42.667 +03:30 [DBG] Connection id "0HNDQFAN2295H" received FIN.
2025-07-04 01:13:42.696 +03:30 [DBG] Connection id "0HNDQFAN2295H" accepted.
2025-07-04 01:13:42.704 +03:30 [DBG] Connection id "0HNDQFAN2295H" started.
2025-07-04 01:13:42.738 +03:30 [DBG] Connection id "0HNDQFAN2295H" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:13:42.754 +03:30 [DBG] Connection id "0HNDQFAN2295H" disconnecting.
2025-07-04 01:13:42.776 +03:30 [DBG] Connection id "0HNDQFAN2295H" stopped.
2025-07-04 01:13:42.879 +03:30 [DBG] Connection id "0HNDQFAN2295I" accepted.
2025-07-04 01:13:42.883 +03:30 [DBG] Connection id "0HNDQFAN2295I" started.
2025-07-04 01:13:42.883 +03:30 [DBG] Connection id "0HNDQFAN2295J" accepted.
2025-07-04 01:13:42.892 +03:30 [DBG] Connection id "0HNDQFAN2295J" started.
2025-07-04 01:13:42.927 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger - null null
2025-07-04 01:13:42.937 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-04 01:13:42.965 +03:30 [DBG] Connection id "0HNDQFAN2295I" completed keep alive response.
2025-07-04 01:13:42.970 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger - 301 0 null 56.6248ms
2025-07-04 01:13:42.976 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/index.html - null null
2025-07-04 01:13:43.109 +03:30 [DBG] Connection id "0HNDQFAN2295I" completed keep alive response.
2025-07-04 01:13:43.113 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/index.html - 200 null text/html;charset=utf-8 136.8888ms
2025-07-04 01:13:43.126 +03:30 [DBG] Connection id "0HNDQFAN2295K" accepted.
2025-07-04 01:13:43.127 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/swagger-ui-bundle.js - null null
2025-07-04 01:13:43.127 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/swagger-ui.css - null null
2025-07-04 01:13:43.130 +03:30 [DBG] Connection id "0HNDQFAN2295K" started.
2025-07-04 01:13:43.138 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/swagger-ui-standalone-preset.js - null null
2025-07-04 01:13:43.167 +03:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-07-04 01:13:43.167 +03:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-07-04 01:13:43.172 +03:30 [DBG] Connection id "0HNDQFAN2295K" completed keep alive response.
2025-07-04 01:13:43.172 +03:30 [DBG] Connection id "0HNDQFAN2295I" completed keep alive response.
2025-07-04 01:13:43.176 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 37.8162ms
2025-07-04 01:13:43.178 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/swagger-ui.css - 200 152034 text/css 50.4759ms
2025-07-04 01:13:43.182 +03:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-07-04 01:13:43.192 +03:30 [DBG] Connection id "0HNDQFAN2295J" completed keep alive response.
2025-07-04 01:13:43.194 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 66.3879ms
2025-07-04 01:13:43.338 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-07-04 01:13:43.385 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/favicon-32x32.png - null null
2025-07-04 01:13:43.399 +03:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-07-04 01:13:43.407 +03:30 [DBG] Connection id "0HNDQFAN2295K" completed keep alive response.
2025-07-04 01:13:43.414 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/favicon-32x32.png - 200 628 image/png 29.671ms
2025-07-04 01:13:43.626 +03:30 [DBG] Connection id "0HNDQFAN2295J" completed keep alive response.
2025-07-04 01:13:43.629 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 290.5484ms
2025-07-04 01:13:49.986 +03:30 [DBG] Connection id "0HNDQFAN2295J" received FIN.
2025-07-04 01:13:49.986 +03:30 [DBG] Connection id "0HNDQFAN2295I" received FIN.
2025-07-04 01:13:49.986 +03:30 [DBG] Connection id "0HNDQFAN2295K" received FIN.
2025-07-04 01:13:49.995 +03:30 [DBG] Connection id "0HNDQFAN2295J" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:13:50.000 +03:30 [DBG] Connection id "0HNDQFAN2295I" disconnecting.
2025-07-04 01:13:50.004 +03:30 [DBG] Connection id "0HNDQFAN2295K" disconnecting.
2025-07-04 01:13:50.034 +03:30 [DBG] Connection id "0HNDQFAN2295K" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:13:50.025 +03:30 [DBG] Connection id "0HNDQFAN2295I" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:13:50.016 +03:30 [DBG] Connection id "0HNDQFAN2295J" disconnecting.
2025-07-04 01:13:50.050 +03:30 [DBG] Connection id "0HNDQFAN2295J" stopped.
2025-07-04 01:13:50.047 +03:30 [DBG] Connection id "0HNDQFAN2295I" stopped.
2025-07-04 01:13:50.047 +03:30 [DBG] Connection id "0HNDQFAN2295K" stopped.
2025-07-04 01:13:56.008 +03:30 [DBG] Connection id "0HNDQFAN2295L" accepted.
2025-07-04 01:13:56.017 +03:30 [DBG] Connection id "0HNDQFAN2295L" started.
2025-07-04 01:13:56.027 +03:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/cities/2/pointsofinterest/4 - application/json-patch+json 49
2025-07-04 01:13:56.043 +03:30 [DBG] PUT requests are not supported
2025-07-04 01:13:56.051 +03:30 [WRN] Failed to determine the https port for redirect.
2025-07-04 01:13:56.157 +03:30 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest/4'
2025-07-04 01:13:56.178 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pointOfInterestId}' is valid for the request path '/api/cities/2/pointsofinterest/4'
2025-07-04 01:13:56.183 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2025-07-04 01:13:56.196 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2025-07-04 01:13:56.305 +03:30 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-07-04 01:13:56.314 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-04 01:13:56.318 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-04 01:13:56.323 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-04 01:13:56.329 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-04 01:13:56.333 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-04 01:13:56.343 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-07-04 01:13:56.702 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-04 01:13:57.187 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-07-04 01:13:57.209 +03:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-07-04 01:13:57.220 +03:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-07-04 01:13:57.229 +03:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-07-04 01:13:57.233 +03:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-07-04 01:13:57.237 +03:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-07-04 01:13:57.248 +03:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-07-04 01:13:57.258 +03:30 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-07-04 01:13:57.263 +03:30 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2025-07-04 01:13:57.267 +03:30 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-07-04 01:13:57.272 +03:30 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2025-07-04 01:13:57.277 +03:30 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2025-07-04 01:13:57.281 +03:30 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2025-07-04 01:13:57.284 +03:30 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2025-07-04 01:13:57.289 +03:30 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2025-07-04 01:13:57.295 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json-patch+json'.
2025-07-04 01:13:57.301 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json-patch+json'.
2025-07-04 01:13:57.319 +03:30 [DBG] Connection id "0HNDQFAN2295L", Request id "0HNDQFAN2295L:00000001": started reading request body.
2025-07-04 01:13:57.322 +03:30 [DBG] Connection id "0HNDQFAN2295L", Request id "0HNDQFAN2295L:00000001": done reading request body.
2025-07-04 01:13:57.604 +03:30 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2025-07-04 01:13:57.607 +03:30 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2025-07-04 01:13:57.610 +03:30 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2025-07-04 01:13:57.624 +03:30 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2025-07-04 01:13:57.655 +03:30 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) - Validation state: "Valid"
2025-07-04 01:13:59.945 +03:30 [INF] Entity Framework Core 6.0.10 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.10' with options: None
2025-07-04 01:14:00.132 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2025-07-04 01:14:00.562 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-04 01:14:00.703 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-04 01:14:00.814 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (104ms).
2025-07-04 01:14:00.848 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-04 01:14:00.910 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 01:14:00.954 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-07-04 01:14:01.030 +03:30 [INF] Executed DbCommand (79ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-07-04 01:14:01.081 +03:30 [DBG] A data reader was disposed.
2025-07-04 01:14:01.099 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 01:14:01.114 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-04 01:14:01.134 +03:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2025-07-04 01:14:01.243 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-04 01:14:01.273 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-04 01:14:01.277 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-07-04 01:14:01.282 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-04 01:14:01.294 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 01:14:01.301 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2025-07-04 01:14:01.309 +03:30 [INF] Executed DbCommand (8ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2025-07-04 01:14:01.380 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-04 01:14:01.472 +03:30 [DBG] A data reader was disposed.
2025-07-04 01:14:01.475 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 01:14:01.479 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-04 01:14:01.605 +03:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 5252.4164ms
2025-07-04 01:14:01.617 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2025-07-04 01:14:01.623 +03:30 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterestForUpdateDto -> Task`1
CityInfo.API.Models.PointOfInterestForUpdateDto -> System.Threading.Tasks.Task`1[[CityInfo.API.Entities.PointOfInterest, CityInfo.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
   at lambda_method61(Closure, PointOfInterestForUpdateDto, Task`1, ResolutionContext)
   at CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest(Int32 cityId, Int32 pointOfInterestId, PointOfInterestForUpdateDto pointOfInterest) in D:\DotNet-Dore\CityInfo.API\CityInfo.API\Controllers\PointsOfInterestController.cs:line 133
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-07-04 01:14:01.702 +03:30 [DBG] Connection id "0HNDQFAN2295L" completed keep alive response.
2025-07-04 01:14:01.711 +03:30 [DBG] 'CityInfoDbContext' disposed.
2025-07-04 01:14:01.720 +03:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/cities/2/pointsofinterest/4 - 500 null text/plain; charset=utf-8 5693.2909ms
2025-07-04 01:14:09.989 +03:30 [DBG] Connection id "0HNDQFAN2295L" received FIN.
2025-07-04 01:14:09.992 +03:30 [DBG] Connection id "0HNDQFAN2295L" disconnecting.
2025-07-04 01:14:09.994 +03:30 [DBG] Connection id "0HNDQFAN2295L" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:14:09.999 +03:30 [DBG] Connection id "0HNDQFAN2295L" stopped.
2025-07-04 01:15:11.683 +03:30 [INF] Application is shutting down...
2025-07-04 01:15:11.686 +03:30 [DBG] Hosting stopping
2025-07-04 01:15:11.698 +03:30 [DBG] Hosting stopped
2025-07-04 01:15:22.840 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-04 01:15:22.979 +03:30 [DBG] Hosting starting
2025-07-04 01:15:23.136 +03:30 [INF] Now listening on: http://localhost:5062
2025-07-04 01:15:23.140 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2025-07-04 01:15:23.145 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 01:15:23.150 +03:30 [INF] Hosting environment: Development
2025-07-04 01:15:23.153 +03:30 [INF] Content root path: D:\DotNet-Dore\CityInfo.API\CityInfo.API
2025-07-04 01:15:23.154 +03:30 [DBG] Hosting started
2025-07-04 01:15:23.228 +03:30 [DBG] Connection id "0HNDQFBL12RA8" received FIN.
2025-07-04 01:15:23.242 +03:30 [DBG] Connection id "0HNDQFBL12RA8" accepted.
2025-07-04 01:15:23.244 +03:30 [DBG] Connection id "0HNDQFBL12RA8" started.
2025-07-04 01:15:23.251 +03:30 [DBG] Connection id "0HNDQFBL12RA8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:15:23.259 +03:30 [DBG] Connection id "0HNDQFBL12RA8" disconnecting.
2025-07-04 01:15:23.266 +03:30 [DBG] Connection id "0HNDQFBL12RA8" stopped.
2025-07-04 01:15:23.371 +03:30 [DBG] Connection id "0HNDQFBL12RA9" accepted.
2025-07-04 01:15:23.373 +03:30 [DBG] Connection id "0HNDQFBL12RA9" started.
2025-07-04 01:15:23.375 +03:30 [DBG] Connection id "0HNDQFBL12RAA" accepted.
2025-07-04 01:15:23.379 +03:30 [DBG] Connection id "0HNDQFBL12RAA" started.
2025-07-04 01:15:23.409 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/index.html - null null
2025-07-04 01:15:23.419 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-04 01:15:23.529 +03:30 [DBG] Connection id "0HNDQFBL12RA9" completed keep alive response.
2025-07-04 01:15:23.532 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/index.html - 200 null text/html;charset=utf-8 131.8351ms
2025-07-04 01:15:23.787 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - null null
2025-07-04 01:15:23.935 +03:30 [DBG] Connection id "0HNDQFBL12RA9" completed keep alive response.
2025-07-04 01:15:23.941 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 153.7517ms
2025-07-04 01:15:25.017 +03:30 [DBG] Connection id "0HNDQFBL12RA9" received FIN.
2025-07-04 01:15:25.017 +03:30 [DBG] Connection id "0HNDQFBL12RAA" received FIN.
2025-07-04 01:15:25.025 +03:30 [DBG] Connection id "0HNDQFBL12RA9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:15:25.030 +03:30 [DBG] Connection id "0HNDQFBL12RAA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:15:25.040 +03:30 [DBG] Connection id "0HNDQFBL12RA9" disconnecting.
2025-07-04 01:15:25.048 +03:30 [DBG] Connection id "0HNDQFBL12RAA" disconnecting.
2025-07-04 01:15:25.059 +03:30 [DBG] Connection id "0HNDQFBL12RA9" stopped.
2025-07-04 01:15:25.060 +03:30 [DBG] Connection id "0HNDQFBL12RAA" stopped.
2025-07-04 01:15:33.309 +03:30 [DBG] Connection id "0HNDQFBL12RAB" accepted.
2025-07-04 01:15:33.310 +03:30 [DBG] Connection id "0HNDQFBL12RAB" received FIN.
2025-07-04 01:15:33.313 +03:30 [DBG] Connection id "0HNDQFBL12RAB" started.
2025-07-04 01:15:33.313 +03:30 [DBG] Connection id "0HNDQFBL12RAC" accepted.
2025-07-04 01:15:33.320 +03:30 [DBG] Connection id "0HNDQFBL12RAB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:15:33.322 +03:30 [DBG] Connection id "0HNDQFBL12RAC" started.
2025-07-04 01:15:33.326 +03:30 [DBG] Connection id "0HNDQFBL12RAB" disconnecting.
2025-07-04 01:15:33.329 +03:30 [DBG] Connection id "0HNDQFBL12RAB" stopped.
2025-07-04 01:15:33.329 +03:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5062/api/cities/2/pointsofinterest/4 - application/json 52
2025-07-04 01:15:33.345 +03:30 [DBG] PUT requests are not supported
2025-07-04 01:15:33.349 +03:30 [WRN] Failed to determine the https port for redirect.
2025-07-04 01:15:33.379 +03:30 [DBG] 1 candidate(s) found for the request path '/api/cities/2/pointsofinterest/4'
2025-07-04 01:15:33.388 +03:30 [DBG] Endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)' with route pattern 'api/cities/{cityId}/pointsofinterest/{pontiOfInterestId}' is valid for the request path '/api/cities/2/pointsofinterest/4'
2025-07-04 01:15:33.393 +03:30 [DBG] Request matched endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2025-07-04 01:15:33.400 +03:30 [INF] Executing endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2025-07-04 01:15:33.434 +03:30 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.API.Models.PointOfInterestForUpdateDto) on controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API).
2025-07-04 01:15:33.442 +03:30 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-07-04 01:15:33.446 +03:30 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-07-04 01:15:33.451 +03:30 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-04 01:15:33.456 +03:30 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-07-04 01:15:33.459 +03:30 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-04 01:15:33.463 +03:30 [DBG] Executing controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-07-04 01:15:33.588 +03:30 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-07-04 01:15:33.739 +03:30 [DBG] Executed controller factory for controller CityInfo.API.Controllers.PointsOfInterestController (CityInfo.API)
2025-07-04 01:15:33.744 +03:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2025-07-04 01:15:33.747 +03:30 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2025-07-04 01:15:33.751 +03:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-07-04 01:15:33.753 +03:30 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2025-07-04 01:15:33.756 +03:30 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2025-07-04 01:15:33.759 +03:30 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2025-07-04 01:15:33.766 +03:30 [DBG] Attempting to bind parameter 'pontiOfInterestId' of type 'System.Int32' ...
2025-07-04 01:15:33.768 +03:30 [DBG] Attempting to bind parameter 'pontiOfInterestId' of type 'System.Int32' using the name 'pontiOfInterestId' in request data ...
2025-07-04 01:15:33.771 +03:30 [DBG] Done attempting to bind parameter 'pontiOfInterestId' of type 'System.Int32'.
2025-07-04 01:15:33.773 +03:30 [DBG] Done attempting to bind parameter 'pontiOfInterestId' of type 'System.Int32'.
2025-07-04 01:15:33.775 +03:30 [DBG] Attempting to validate the bound parameter 'pontiOfInterestId' of type 'System.Int32' ...
2025-07-04 01:15:33.777 +03:30 [DBG] Done attempting to validate the bound parameter 'pontiOfInterestId' of type 'System.Int32'.
2025-07-04 01:15:33.779 +03:30 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2025-07-04 01:15:33.782 +03:30 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2025-07-04 01:15:33.786 +03:30 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2025-07-04 01:15:33.788 +03:30 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2025-07-04 01:15:33.797 +03:30 [DBG] Connection id "0HNDQFBL12RAC", Request id "0HNDQFBL12RAC:00000001": started reading request body.
2025-07-04 01:15:33.799 +03:30 [DBG] Connection id "0HNDQFBL12RAC", Request id "0HNDQFBL12RAC:00000001": done reading request body.
2025-07-04 01:15:33.894 +03:30 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2025-07-04 01:15:33.896 +03:30 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2025-07-04 01:15:33.898 +03:30 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto' ...
2025-07-04 01:15:33.905 +03:30 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.API.Models.PointOfInterestForUpdateDto'.
2025-07-04 01:15:33.920 +03:30 [INF] Executing action method CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) - Validation state: "Valid"
2025-07-04 01:15:34.832 +03:30 [INF] Entity Framework Core 6.0.10 initialized 'CityInfoDbContext' using provider 'Microsoft.EntityFrameworkCore.Sqlite:6.0.10' with options: None
2025-07-04 01:15:34.909 +03:30 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2025-07-04 01:15:35.240 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-04 01:15:35.357 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-04 01:15:35.437 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (76ms).
2025-07-04 01:15:35.471 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-04 01:15:35.522 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 01:15:35.565 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-07-04 01:15:35.610 +03:30 [INF] Executed DbCommand (57ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Cities" AS "c"
    WHERE "c"."Id" = @__cityId_0)
2025-07-04 01:15:35.627 +03:30 [DBG] A data reader was disposed.
2025-07-04 01:15:35.638 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 01:15:35.650 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-04 01:15:35.658 +03:30 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0 && p.Id == __pointOfInterestId_1)
    .FirstOrDefault()'
2025-07-04 01:15:35.712 +03:30 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) Required MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterest AS p
            WHERE (p.CityId == @__cityId_0) && (p.Id == @__pointOfInterestId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.API.DbContexts.CityInfoDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-07-04 01:15:35.728 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-04 01:15:35.732 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-07-04 01:15:35.735 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-04 01:15:35.736 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 01:15:35.738 +03:30 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2025-07-04 01:15:35.740 +03:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32), @__pointOfInterestId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."CityId", "p"."Description", "p"."Name"
FROM "PointOfInterest" AS "p"
WHERE ("p"."CityId" = @__cityId_0) AND ("p"."Id" = @__pointOfInterestId_1)
LIMIT 1
2025-07-04 01:15:35.761 +03:30 [DBG] Context 'CityInfoDbContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-04 01:15:35.793 +03:30 [DBG] A data reader was disposed.
2025-07-04 01:15:35.798 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 01:15:35.802 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-04 01:15:35.817 +03:30 [DBG] SaveChanges starting for 'CityInfoDbContext'.
2025-07-04 01:15:35.840 +03:30 [DBG] DetectChanges starting for 'CityInfoDbContext'.
2025-07-04 01:15:35.882 +03:30 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-04 01:15:35.909 +03:30 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-04 01:15:35.925 +03:30 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-07-04 01:15:35.939 +03:30 [DBG] DetectChanges completed for 'CityInfoDbContext'.
2025-07-04 01:15:35.977 +03:30 [DBG] Opening connection to database 'main' on server 'CityInfo.db'.
2025-07-04 01:15:35.985 +03:30 [DBG] Opened connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 01:15:35.997 +03:30 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-07-04 01:15:36.017 +03:30 [DBG] Began transaction with isolation level 'Serializable'.
2025-07-04 01:15:36.083 +03:30 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-07-04 01:15:36.089 +03:30 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2025-07-04 01:15:36.098 +03:30 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 5), @p1='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2025-07-04 01:15:36.119 +03:30 [INF] Executed DbCommand (21ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 5), @p1='?' (Size = 5)], CommandType='"Text"', CommandTimeout='30']
UPDATE "PointOfInterest" SET "Description" = @p0, "Name" = @p1
WHERE "Id" = @p2;
SELECT changes();
2025-07-04 01:15:36.145 +03:30 [DBG] A data reader was disposed.
2025-07-04 01:15:36.162 +03:30 [DBG] Committing transaction.
2025-07-04 01:15:36.174 +03:30 [DBG] Committed transaction.
2025-07-04 01:15:36.186 +03:30 [DBG] Closing connection to database 'main' on server 'D:\DotNet-Dore\CityInfo.API\CityInfo.API\CityInfo.db'.
2025-07-04 01:15:36.195 +03:30 [DBG] Closed connection to database 'main' on server 'CityInfo.db'.
2025-07-04 01:15:36.211 +03:30 [DBG] Disposing transaction.
2025-07-04 01:15:36.224 +03:30 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-07-04 01:15:36.239 +03:30 [DBG] SaveChanges completed for 'CityInfoDbContext' with 1 entities written to the database.
2025-07-04 01:15:36.259 +03:30 [INF] Executed action method CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API), returned result Microsoft.AspNetCore.Mvc.NoContentResult in 2327.4675ms.
2025-07-04 01:15:36.283 +03:30 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-07-04 01:15:36.301 +03:30 [INF] Executed action CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API) in 2827.5448ms
2025-07-04 01:15:36.312 +03:30 [INF] Executed endpoint 'CityInfo.API.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.API)'
2025-07-04 01:15:36.322 +03:30 [DBG] Connection id "0HNDQFBL12RAC" completed keep alive response.
2025-07-04 01:15:36.331 +03:30 [DBG] 'CityInfoDbContext' disposed.
2025-07-04 01:15:36.340 +03:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5062/api/cities/2/pointsofinterest/4 - 204 null null 3011.2718ms
2025-07-04 01:15:47.007 +03:30 [INF] Application is shutting down...
2025-07-04 01:15:47.010 +03:30 [DBG] Hosting stopping
2025-07-04 01:15:47.040 +03:30 [DBG] Connection id "0HNDQFBL12RAC" disconnecting.
2025-07-04 01:15:47.047 +03:30 [DBG] Connection id "0HNDQFBL12RAC" stopped.
2025-07-04 01:15:47.056 +03:30 [DBG] Connection id "0HNDQFBL12RAC" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:15:47.072 +03:30 [DBG] Hosting stopped
2025-07-04 01:28:29.069 +03:30 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-04 01:28:29.223 +03:30 [DBG] Hosting starting
2025-07-04 01:28:29.365 +03:30 [DBG] Connection id "0HNDQFIVA8OQF" received FIN.
2025-07-04 01:28:29.388 +03:30 [INF] Now listening on: http://localhost:5062
2025-07-04 01:28:29.395 +03:30 [DBG] Loaded hosting startup assembly CityInfo.API
2025-07-04 01:28:29.396 +03:30 [DBG] Connection id "0HNDQFIVA8OQF" accepted.
2025-07-04 01:28:29.402 +03:30 [INF] Application started. Press Ctrl+C to shut down.
2025-07-04 01:28:29.407 +03:30 [DBG] Connection id "0HNDQFIVA8OQF" started.
2025-07-04 01:28:29.412 +03:30 [INF] Hosting environment: Development
2025-07-04 01:28:29.422 +03:30 [INF] Content root path: D:\DotNet-Dore\CityInfo.API\CityInfo.API
2025-07-04 01:28:29.428 +03:30 [DBG] Hosting started
2025-07-04 01:28:29.438 +03:30 [DBG] Connection id "0HNDQFIVA8OQF" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:28:29.444 +03:30 [DBG] Connection id "0HNDQFIVA8OQF" disconnecting.
2025-07-04 01:28:29.456 +03:30 [DBG] Connection id "0HNDQFIVA8OQF" stopped.
2025-07-04 01:28:29.602 +03:30 [DBG] Connection id "0HNDQFIVA8OQG" accepted.
2025-07-04 01:28:29.604 +03:30 [DBG] Connection id "0HNDQFIVA8OQG" started.
2025-07-04 01:28:29.605 +03:30 [DBG] Connection id "0HNDQFIVA8OQH" accepted.
2025-07-04 01:28:29.608 +03:30 [DBG] Connection id "0HNDQFIVA8OQH" started.
2025-07-04 01:28:29.639 +03:30 [INF] Request starting HTTP/1.1 GET http://localhost:5062/swagger/index.html - null null
2025-07-04 01:28:29.648 +03:30 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-04 01:28:29.813 +03:30 [DBG] Connection id "0HNDQFIVA8OQG" completed keep alive response.
2025-07-04 01:28:29.815 +03:30 [INF] Request finished HTTP/1.1 GET http://localhost:5062/swagger/index.html - 200 null text/html;charset=utf-8 188.143ms
2025-07-04 01:28:35.228 +03:30 [DBG] Connection id "0HNDQFIVA8OQH" received FIN.
2025-07-04 01:28:35.228 +03:30 [DBG] Connection id "0HNDQFIVA8OQG" received FIN.
2025-07-04 01:28:35.251 +03:30 [DBG] Connection id "0HNDQFIVA8OQH" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:28:35.252 +03:30 [DBG] Connection id "0HNDQFIVA8OQG" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-07-04 01:28:35.262 +03:30 [DBG] Connection id "0HNDQFIVA8OQH" disconnecting.
2025-07-04 01:28:35.273 +03:30 [DBG] Connection id "0HNDQFIVA8OQG" disconnecting.
2025-07-04 01:28:35.283 +03:30 [DBG] Connection id "0HNDQFIVA8OQH" stopped.
2025-07-04 01:28:35.287 +03:30 [DBG] Connection id "0HNDQFIVA8OQG" stopped.
2025-07-04 01:30:00.934 +03:30 [INF] Application is shutting down...
2025-07-04 01:30:00.938 +03:30 [DBG] Hosting stopping
2025-07-04 01:30:00.964 +03:30 [DBG] Hosting stopped
